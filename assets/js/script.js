window.addEventListener("DOMContentLoaded",()=>{const l=(e,t)=>{e.addEventListener("click",t,!1),e.addEventListener("touchstart",t,{passive:!0}),e.addEventListener("touchend",e=>e.preventDefault())};var e=e=>{e=("; "+document.cookie).split("; "+e+"=");return 2===e.length?decodeURIComponent(e.pop().split(";").shift()):""},t=e=>getComputedStyle(document.documentElement).getPropertyValue(e).trim();const o={mobile:window.matchMedia(`(max-width: ${t("--bp-mobile-max")})`),tablet:window.matchMedia(`(min-width: ${t("--bp-tablet-min")})`),large:window.matchMedia(`(min-width: ${t("--bp-large-min")})`)},a=document.getElementById("backtotop");if(window.addEventListener("scroll",()=>{a&&a.classList.toggle("active",600<document.documentElement.scrollTop)}),document.body.classList.contains("single")){const w=()=>{var e=document.getElementById("restore-reply-button");e&&(e.classList.remove("visually-hidden"),e.removeAttribute("id"))},B=(document.querySelectorAll(".comment-reply-link").forEach(t=>{l(t,e=>{e.preventDefault(),w(),t.setAttribute("id","restore-reply-button"),t.classList.add("visually-hidden");e=document.getElementById("reply-title"),e.hasAttribute("data-original-title")||e.setAttribute("data-original-title",e.textContent),e.textContent=t.getAttribute("data-replyto"),document.getElementById("comment_parent").value=t.getAttribute("data-commentid"),e=document.getElementById("comment-submit"),e.hasAttribute("data-original-value")&&(e.value=e.getAttribute("data-original-value")),e=document.getElementById("comment");e.style.display="block","[##like##]"==e.value&&(e.value=""),document.getElementById("like-comment-reply").style.display="block",t.closest("li").appendChild(document.getElementById("comment-form").parentElement),document.getElementById("cancel-comment-reply").style.display="block",e.focus()})}),document.getElementById("cancel-comment-reply"));B&&l(B,e=>{e.preventDefault(),w(),B.style.display="none";e=document.getElementById("reply-title"),e.textContent=e.getAttribute("data-original-title"),e=document.getElementById("comment-submit"),e.hasAttribute("data-original-value")&&(e.value=e.getAttribute("data-original-value")),e=document.getElementById("comment");e.style.display="block","[##like##]"==e.value&&(e.value=""),document.getElementById("like-section").style.display="block",document.getElementById("comment_parent").value=0,document.getElementById("comments").appendChild(document.getElementById("comment-form").parentElement),e.focus()}),document.getElementById("comment-form").addEventListener("submit",e=>{e.preventDefault();let t=!0;e.target.querySelectorAll("[required]").forEach(e=>{t=t&&""!=e.value.trim()});var a=e.target.querySelector("#email");(t=a&&!a.value.toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)?!1:t)?e.target.submit():(document.getElementById("comment-submit").classList.add("shake"),setTimeout(()=>document.getElementById("comment-submit").classList.remove("shake"),500))});t=document.getElementById("like-comment-reply");t&&l(t,e=>{e.preventDefault();e=document.getElementById("comment"),e.style.display="none",e.value="[##like##]",e=document.getElementById("reply-title"),e.hasAttribute("data-original-title")||e.setAttribute("data-original-title",e.textContent),e.textContent="Ti Ã¨ piaciuto questo post? Dimmi chi sei.",e=document.getElementById("comment-submit");e.hasAttribute("data-original-value")||e.setAttribute("data-original-value",e.value),e.value="Mi piace",document.getElementById("cancel-comment-reply").style.display="block",document.getElementById("like-section").style.display="none",document.getElementById("like-section").after(document.getElementById("comment-form").parentElement),document.getElementById("author").focus()})}void 0!==duechiacchiere.COOKIEHASH&&(document.getElementById("author")&&(document.getElementById("author").value=e("comment_author_"+duechiacchiere.COOKIEHASH)),document.getElementById("email")&&(document.getElementById("email").value=e("comment_author_email_"+duechiacchiere.COOKIEHASH)),document.getElementById("url"))&&(document.getElementById("url").value=e("comment_author_url_"+duechiacchiere.COOKIEHASH));const n=document.getElementById("mobile-nav-button"),i=document.getElementById("mobile-search-button"),r=document.getElementById("menu-overlay"),s=document.getElementById("primary-menu");let c=0,d=[],m=document.getElementById("search-form-widget");const u=(e,t,a,n)=>{e.addEventListener(t,a,n),d.push({el:e,type:t,fn:a,options:n})},p=e=>{r&&("hide"===e?(r.classList.remove("active"),document.body.style.paddingRight=0):(r.classList.add("active"),c=document.documentElement.clientWidth,document.body.style.paddingRight=document.documentElement.clientWidth-c+"px"))},y=e=>{s&&n&&("close"!==e&&m?.classList.contains("active")&&v("close"),"close"===e||n.classList.contains("active")?(s.classList.remove("active"),n.classList.remove("active"),p("hide")):(s.classList.add("active"),n.classList.add("active"),p("show")))},v=e=>{m&&i&&("close"!==e&&n?.classList.contains("active")&&y("close"),"close"===e||i.classList.contains("active")?(m.classList.remove("active"),i.classList.remove("active"),p("hide"),m.addEventListener("transitionend",function e(){m.removeEventListener("transitionend",e)})):(m.classList.add("active"),i.classList.add("active"),document.getElementById("search-field").focus(),p("show")))},g=()=>{n&&(u(n,"click",()=>y("toggle")),u(n,"touchstart",e=>{e.preventDefault(),y("toggle")},{passive:!1})),i&&(u(i,"click",()=>v("toggle")),u(i,"touchstart",e=>{e.preventDefault(),v("toggle")},{passive:!1})),r&&(u(r,"click",()=>{p("hide"),y("close"),v("close")}),u(r,"touchstart",()=>{p("hide"),y("close"),v("close")})),y("close"),v("close")},h=()=>{console.log("Exited mobile mode"),d.forEach(({el:e,type:t,fn:a,options:n})=>e.removeEventListener(t,a,n)),d=[],y("close"),v("close")},E=(o.mobile.addEventListener("change",e=>{(e.matches?g:h)()}),o.mobile.matches&&g(),document.querySelectorAll("#primary-menu .menu-item-has-children").forEach(a=>{var e=a.childNodes[0].textContent;let t="il ",n="dal";if(-1!=["a","e","i","o","u"].indexOf(e.charAt(0))?(t="l'",n+="l'"):"a"==e.slice(-1)?(t="la ",n+="la "):n+=" ",a.querySelector("a").setAttribute("aria-expanded","false"),a.querySelector("a").insertAdjacentHTML("afterend",'<a class="svg open-submenu" href="#" aria-expanded="false" aria-haspopup="true"><span class="visually-hidden"> apri il sottomenu per '+t+e+"</span></a>"),o.mobile.matches&&a.querySelector(".sub-menu").insertAdjacentHTML("afterbegin",`<li class="menu-item">
            <a class="svg close-submenu" href="#">
              esci ${n}${e}
            </a>
          </li>`),a.addEventListener("mouseover",e=>{a.querySelectorAll(":scope > a").forEach(e=>{e.setAttribute("aria-expanded","true")})}),a.addEventListener("mouseout",e=>{a.querySelectorAll(":scope > a").forEach(e=>{e.setAttribute("aria-expanded","false")})}),l(a.querySelector(".open-submenu"),e=>{"touchstart"!=e.type&&e.preventDefault(),a.classList.add("active"),a.querySelectorAll(":scope > a").forEach(e=>{e.setAttribute("aria-expanded","true")})}),a.querySelectorAll(".close-submenu").forEach(e=>{l(e,e=>{"touchstart"!=e.type&&e.preventDefault(),a.classList.remove("active"),a.querySelectorAll(":scope > a").forEach(e=>{e.setAttribute("aria-expanded","false")}),1===parseInt(window.getComputedStyle(document.body,":before").getPropertyValue("padding"))&&a.querySelector("a").focus()})}),1===parseInt(window.getComputedStyle(document.body,"::before").getPropertyValue("padding"))){let t=!1;a.querySelector(".sub-menu").addEventListener("focusout",e=>{setTimeout(()=>{t=!1,((t,a)=>{var n=[];if(t.parentNode){let e=t.parentNode.firstChild;for(;e;)1!==e.nodeType||e===t||a&&!e.classList.contains(a)||n.push(e),e=e.nextSibling}return n})(e.target.parentElement).forEach(e=>{t=t||document.activeElement.parentElement===e}),t||(a.classList.remove("active"),a.querySelectorAll(":scope > a").forEach(e=>{e.setAttribute("aria-expanded","false")}))},10)})}}),document.body.addEventListener("keyup",e=>{"Escape"==e.key&&document.querySelectorAll(".menu-item-has-children").forEach(e=>{e.classList.remove("active"),e.querySelector(".open-submenu").setAttribute("aria-expanded","false")})}),document.getElementById("live-results")),b=document.getElementById("search-field"),f=document.createElement("textarea"),A="//"+window.location.hostname+"/wp-json/wp/v2/posts?per_page=20&search=";let I=0,L=-1;if(b&&E){E.setAttribute("role","listbox"),E.setAttribute("aria-live","polite"),b.setAttribute("aria-expanded","false"),b.setAttribute("aria-owns","live-results");const k=()=>Array.from(E.querySelectorAll('li[role="option"]')),S=a=>{var e=k();e.forEach((e,t)=>e.classList.toggle("active",t===a)),-1<(L=a)?(b.setAttribute("aria-activedescendant",e[a].id),e[a].scrollIntoView({block:"nearest"})):b.removeAttribute("aria-activedescendant")},x=async()=>{var e;if(b.value.length<3)E.innerHTML="",E.style.display="none",b.setAttribute("aria-expanded","false"),L=-1;else try{var t=document.getElementById("search-category"),a=A+encodeURIComponent(b.value)+(t?"&categories="+t.value:""),n=await fetch(a);if(!n.ok)throw new Error("Network error");var l=await n.json();e=l,E.innerHTML="",L=-1,e.length?e.forEach((e,t)=>{f.innerHTML=e.title.rendered;var a=document.createElement("li"),t=(a.setAttribute("role","option"),a.setAttribute("id","live-result-"+t),document.createElement("a"));t.href=e.link,t.textContent=f.value,a.appendChild(t),E.appendChild(a)}):((e=document.createElement("li")).textContent="Nessun risultato trovato",E.appendChild(e)),E.style.display="block",b.setAttribute("aria-expanded","true")}catch(e){console.error(e)}};b.addEventListener("input",()=>{clearTimeout(I),I=setTimeout(x,500)}),b.addEventListener("keydown",e=>{var t=k();if(t.length)switch(e.key){case"ArrowDown":e.preventDefault(),S((L+1)%t.length);break;case"ArrowUp":e.preventDefault(),S((L-1+t.length)%t.length);break;case"Enter":e.preventDefault(),-1<L?t[L].querySelector("a").click():b.form.submit();break;case"Escape":E.style.display="none",b.setAttribute("aria-expanded","false"),S(-1)}}),document.addEventListener("click",e=>{E.contains(e.target)||b.contains(e.target)||(E.style.display="none",b.setAttribute("aria-expanded","false"),S(-1))})}document.querySelectorAll("#main-wrapper a").forEach(e=>{var t;e.hostname!==location.hostname.replace("www.","")&&(e.target="_blank",e.querySelector(".visually-hidden")||e.insertAdjacentHTML("beforeend",'<span class="visually-hidden"> (apre una nuova finestra)</span>'),(t=(e.getAttribute("rel")||"").split(" ")).includes("noopener")||t.push("noopener"),e.setAttribute("rel",t.join(" ").trim()))});t=new Date,e=document.querySelector("#widget-back-in-time ul");e&&e.insertAdjacentHTML("beforeend",`<li><a href="/?day=${t.getDate()}&amp;monthnum=${t.getMonth()+1}&amp;year=0" rel="nofollow">Oggi nel passato</a></li>`)});