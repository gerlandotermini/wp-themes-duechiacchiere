window.addEventListener("DOMContentLoaded",()=>{const n=(e,t)=>{e.addEventListener("click",t,!1),e.addEventListener("touchstart",t,{passive:!0}),e.addEventListener("touchend",e=>e.preventDefault())};var e=e=>{e=("; "+document.cookie).split("; "+e+"=");return 2===e.length?decodeURIComponent(e.pop().split(";").shift()):""};const t=document.getElementById("backtotop");if(window.onscroll=()=>{t&&(600<document.body.scrollTop||600<document.documentElement.scrollTop?t.classList.add("active"):t.classList.remove("active"))},document.body.classList.contains("single")){const h=()=>{var e=document.getElementById("restore-reply-button");e&&(e.classList.remove("visually-hidden"),e.removeAttribute("id"))},E=(document.querySelectorAll(".comment-reply-link").forEach(t=>{n(t,e=>{e.preventDefault(),h(),t.setAttribute("id","restore-reply-button"),t.classList.add("visually-hidden");e=document.getElementById("reply-title"),e.hasAttribute("data-original-title")||e.setAttribute("data-original-title",e.textContent),e.textContent=t.getAttribute("data-replyto"),document.getElementById("comment_parent").value=t.getAttribute("data-commentid"),e=document.getElementById("comment-submit"),e.hasAttribute("data-original-value")&&(e.value=e.getAttribute("data-original-value")),e=document.getElementById("comment");e.style.display="block","[##like##]"==e.value&&(e.value=""),document.getElementById("like-comment-reply").style.display="block",t.closest("li").appendChild(document.getElementById("comment-form").parentElement),document.getElementById("cancel-comment-reply").style.display="block",e.focus()})}),document.getElementById("cancel-comment-reply"));E&&n(E,e=>{e.preventDefault(),h(),E.style.display="none";e=document.getElementById("reply-title"),e.textContent=e.getAttribute("data-original-title"),e=document.getElementById("comment-submit"),e.hasAttribute("data-original-value")&&(e.value=e.getAttribute("data-original-value")),e=document.getElementById("comment");e.style.display="block","[##like##]"==e.value&&(e.value=""),document.getElementById("like-section").style.display="block",document.getElementById("comment_parent").value=0,document.getElementById("comments").appendChild(document.getElementById("comment-form").parentElement),e.focus()}),document.getElementById("comment-form").addEventListener("submit",e=>{e.preventDefault();let t=!0;e.target.querySelectorAll("[required]").forEach(e=>{t=t&&""!=e.value.trim()});var n=e.target.querySelector("#email");(t=n&&!n.value.toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)?!1:t)?e.target.submit():(document.getElementById("comment-submit").classList.add("shake"),setTimeout(()=>document.getElementById("comment-submit").classList.remove("shake"),500))});var a=document.getElementById("like-comment-reply");a&&n(a,e=>{e.preventDefault();e=document.getElementById("comment"),e.style.display="none",e.value="[##like##]",e=document.getElementById("reply-title"),e.hasAttribute("data-original-title")||e.setAttribute("data-original-title",e.textContent),e.textContent="Ti Ã¨ piaciuto questo post? Dimmi chi sei.",e=document.getElementById("comment-submit");e.hasAttribute("data-original-value")||e.setAttribute("data-original-value",e.value),e.value="Mi piace",document.getElementById("cancel-comment-reply").style.display="block",document.getElementById("like-section").style.display="none",document.getElementById("like-section").after(document.getElementById("comment-form").parentElement),document.getElementById("author").focus()})}void 0!==duechiacchiere.COOKIEHASH&&(document.getElementById("author")&&(document.getElementById("author").value=e("comment_author_"+duechiacchiere.COOKIEHASH)),document.getElementById("email")&&(document.getElementById("email").value=e("comment_author_email_"+duechiacchiere.COOKIEHASH)),document.getElementById("url"))&&(document.getElementById("url").value=e("comment_author_url_"+duechiacchiere.COOKIEHASH));const l=document.getElementById("mobile-nav-button"),o=document.getElementById("mobile-search-button"),i=document.getElementById("menu-overlay");let r=0;const c=(e,t)=>{i&&("hide"===t?(i.classList.remove("active"),document.body.style.paddingRight=0):(i.classList.add("active"),r=document.documentElement.clientWidth,document.body.style.paddingRight=document.documentElement.clientWidth-r+"px"))},d=(e,t)=>{"touchstart"!==e.type&&e.preventDefault();var n=document.getElementById("primary-menu");n&&i&&l&&("close"===t||l.classList.contains("active")?(n.classList.remove("active"),l.classList.remove("active"),c(e,"hide")):(s(e,"close",!0),n.classList.add("active"),l.classList.add("active"),c(e,"show")))},s=(e,t,n=!1)=>{n||d(e,"close");n=document.getElementById("search-form");n&&("close"===t||o.classList.contains("active")?(o.classList.remove("active"),c(e,"hide"),n.style.zIndex="initial"):(o.classList.add("active"),n.style.zIndex="475",document.getElementById("search-field").focus(),document.getElementById("search-field").closest(".widget").scrollIntoView(),c(e,"show")))},m=(l&&n(l,e=>d(e,"toggle")),o&&n(o,e=>s(e,"toggle",!1)),i&&n(i,e=>{c(e,"hide"),d(e,"close"),s(e,"close",!1)}),document.querySelectorAll("#primary-menu .menu-item-has-children").forEach(t=>{var e=t.querySelector(":scope > a"),e=(e.setAttribute("aria-expanded","false"),e.textContent);t.querySelector("a").insertAdjacentHTML("afterend",`<a class="svg open-submenu" href="#" aria-expanded="false" aria-haspopup="true"><span class="visually-hidden"> apri il sottomenu per ${e}</span></a>`),n(t.querySelector(".open-submenu"),e=>{"touchstart"!==e.type&&e.preventDefault(),t.classList.add("active"),t.querySelectorAll(":scope > a").forEach(e=>e.setAttribute("aria-expanded","true"))})}),document.getElementById("live-results")),u=document.getElementById("search-field"),y=document.createElement("textarea"),p="//"+window.location.hostname+"/wp-json/wp/v2/posts?per_page=20&search=";let v=0,g=-1;if(u&&m){m.setAttribute("role","listbox"),m.setAttribute("aria-live","polite"),u.setAttribute("aria-expanded","false"),u.setAttribute("aria-owns","live-results");const b=()=>Array.from(m.querySelectorAll('li[role="option"]')),I=n=>{var e=b();e.forEach((e,t)=>e.classList.toggle("active",t===n)),-1<(g=n)?(u.setAttribute("aria-activedescendant",e[n].id),e[n].scrollIntoView({block:"nearest"})):u.removeAttribute("aria-activedescendant")},f=async()=>{var e;if(u.value.length<3)m.innerHTML="",m.style.display="none",u.setAttribute("aria-expanded","false"),g=-1;else try{var t=document.getElementById("search-category"),n=p+encodeURIComponent(u.value)+(t?"&categories="+t.value:""),a=await fetch(n);if(!a.ok)throw new Error("Network error");var l=await a.json();e=l,m.innerHTML="",g=-1,e.length?e.forEach((e,t)=>{y.innerHTML=e.title.rendered;var n=document.createElement("li"),t=(n.setAttribute("role","option"),n.setAttribute("id","live-result-"+t),document.createElement("a"));t.href=e.link,t.textContent=y.value,n.appendChild(t),m.appendChild(n)}):((e=document.createElement("li")).textContent="Nessun risultato trovato",m.appendChild(e)),m.style.display="block",u.setAttribute("aria-expanded","true")}catch(e){console.error(e)}};u.addEventListener("input",()=>{clearTimeout(v),v=setTimeout(f,500)}),u.addEventListener("keydown",e=>{var t=b();if(t.length)switch(e.key){case"ArrowDown":e.preventDefault(),I((g+1)%t.length);break;case"ArrowUp":e.preventDefault(),I((g-1+t.length)%t.length);break;case"Enter":e.preventDefault(),-1<g?t[g].querySelector("a").click():u.form.submit();break;case"Escape":m.style.display="none",u.setAttribute("aria-expanded","false"),I(-1)}}),document.addEventListener("click",e=>{m.contains(e.target)||u.contains(e.target)||(m.style.display="none",u.setAttribute("aria-expanded","false"),I(-1))})}document.querySelectorAll("#main-wrapper a").forEach(e=>{var t;e.hostname!==location.hostname.replace("www.","")&&(e.target="_blank",e.querySelector(".visually-hidden")||e.insertAdjacentHTML("beforeend",'<span class="visually-hidden"> (apre una nuova finestra)</span>'),(t=(e.getAttribute("rel")||"").split(" ")).includes("noopener")||t.push("noopener"),e.setAttribute("rel",t.join(" ").trim()))});a=new Date,e=document.querySelector("#widget-back-in-time ul");e&&e.insertAdjacentHTML("beforeend",`<li><a href="/?day=${a.getDate()}&amp;monthnum=${a.getMonth()+1}&amp;year=0" rel="nofollow">Oggi nel passato</a></li>`)});