window.addEventListener("DOMContentLoaded",()=>{const l=(e,t)=>{e.addEventListener("click",t,!1),e.addEventListener("touchstart",t,{passive:!0}),e.addEventListener("touchend",e=>e.preventDefault())};var e=e=>{e=("; "+document.cookie).split("; "+e+"=");return 2===e.length?decodeURIComponent(e.pop().split(";").shift()):""},t=e=>getComputedStyle(document.documentElement).getPropertyValue(e).trim();const o={mobile:window.matchMedia(`(max-width: ${t("--bp-mobile-max")})`),tablet:window.matchMedia(`(min-width: ${t("--bp-tablet-min")})`),large:window.matchMedia(`(min-width: ${t("--bp-large-min")})`)},a=document.getElementById("backtotop");if(window.addEventListener("scroll",()=>{a&&a.classList.toggle("active",600<document.documentElement.scrollTop)}),document.body.classList.contains("single")){const L=()=>{var e=document.getElementById("restore-reply-button");e&&(e.classList.remove("visually-hidden"),e.removeAttribute("id"))},w=(document.querySelectorAll(".comment-reply-link").forEach(t=>{l(t,e=>{e.preventDefault(),L(),t.setAttribute("id","restore-reply-button"),t.classList.add("visually-hidden");e=document.getElementById("reply-title"),e.hasAttribute("data-original-title")||e.setAttribute("data-original-title",e.textContent),e.textContent=t.getAttribute("data-replyto"),document.getElementById("comment_parent").value=t.getAttribute("data-commentid"),e=document.getElementById("comment-submit"),e.hasAttribute("data-original-value")&&(e.value=e.getAttribute("data-original-value")),e=document.getElementById("comment");e.style.display="block","[##like##]"==e.value&&(e.value=""),document.getElementById("like-comment-reply").style.display="block",t.closest("li").appendChild(document.getElementById("comment-form").parentElement),document.getElementById("cancel-comment-reply").style.display="block",e.focus()})}),document.getElementById("cancel-comment-reply"));w&&l(w,e=>{e.preventDefault(),L(),w.style.display="none";e=document.getElementById("reply-title"),e.textContent=e.getAttribute("data-original-title"),e=document.getElementById("comment-submit"),e.hasAttribute("data-original-value")&&(e.value=e.getAttribute("data-original-value")),e=document.getElementById("comment");e.style.display="block","[##like##]"==e.value&&(e.value=""),document.getElementById("like-section").style.display="block",document.getElementById("comment_parent").value=0,document.getElementById("comments").appendChild(document.getElementById("comment-form").parentElement),e.focus()}),document.getElementById("comment-form").addEventListener("submit",e=>{e.preventDefault();let t=!0;e.target.querySelectorAll("[required]").forEach(e=>{t=t&&""!=e.value.trim()});var a=e.target.querySelector("#email");(t=a&&!a.value.toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)?!1:t)?e.target.submit():(document.getElementById("comment-submit").classList.add("shake"),setTimeout(()=>document.getElementById("comment-submit").classList.remove("shake"),500))});t=document.getElementById("like-comment-reply");t&&l(t,e=>{e.preventDefault();e=document.getElementById("comment"),e.style.display="none",e.value="[##like##]",e=document.getElementById("reply-title"),e.hasAttribute("data-original-title")||e.setAttribute("data-original-title",e.textContent),e.textContent="Ti Ã¨ piaciuto questo post? Dimmi chi sei.",e=document.getElementById("comment-submit");e.hasAttribute("data-original-value")||e.setAttribute("data-original-value",e.value),e.value="Mi piace",document.getElementById("cancel-comment-reply").style.display="block",document.getElementById("like-section").style.display="none",document.getElementById("like-section").after(document.getElementById("comment-form").parentElement),document.getElementById("author").focus()})}void 0!==duechiacchiere.COOKIEHASH&&(document.getElementById("author")&&(document.getElementById("author").value=e("comment_author_"+duechiacchiere.COOKIEHASH)),document.getElementById("email")&&(document.getElementById("email").value=e("comment_author_email_"+duechiacchiere.COOKIEHASH)),document.getElementById("url"))&&(document.getElementById("url").value=e("comment_author_url_"+duechiacchiere.COOKIEHASH));const n=document.getElementById("mobile-nav-button"),i=document.getElementById("mobile-search-button"),r=document.getElementById("menu-overlay"),s=document.getElementById("primary-menu");let c=[],d=document.getElementById("search-form-widget");const m=(e,t,a,n)=>{e.addEventListener(t,a,n),c.push({el:e,type:t,fn:a,options:n})},u=e=>{var t;r&&((e="hide"!==e)?(t=window.innerWidth-document.documentElement.clientWidth,document.body.style.setProperty("--scrollbar-compensation",t+"px")):document.body.style.removeProperty("--scrollbar-compensation"),r.classList.toggle("active",e),document.body.classList.toggle("overlay-active",e))},p=e=>{s&&n&&("close"!==e&&d?.classList.contains("active")&&y("close"),"close"===e||n.classList.contains("active")?(s.classList.remove("active"),n.classList.remove("active"),u("hide")):(s.classList.add("active"),n.classList.add("active"),u("show")))},y=e=>{d&&i&&("close"!==e&&n?.classList.contains("active")&&p("close"),"close"===e||i.classList.contains("active")?(d.classList.remove("active"),i.classList.remove("active"),u("hide"),d.addEventListener("transitionend",function e(){d.removeEventListener("transitionend",e)})):(d.classList.add("active"),i.classList.add("active"),document.getElementById("search-field").focus(),u("show")))},v=()=>{n&&(m(n,"click",()=>p("toggle")),m(n,"touchstart",e=>{e.preventDefault(),p("toggle")},{passive:!1})),i&&(m(i,"click",()=>y("toggle")),m(i,"touchstart",e=>{e.preventDefault(),y("toggle")},{passive:!1})),r&&(m(r,"click",()=>{u("hide"),p("close"),y("close")}),m(r,"touchstart",()=>{u("hide"),p("close"),y("close")})),p("close"),y("close")},g=()=>{console.log("Exited mobile mode"),c.forEach(({el:e,type:t,fn:a,options:n})=>e.removeEventListener(t,a,n)),c=[],p("close"),y("close")},h=(o.mobile.addEventListener("change",e=>{(e.matches?v:g)()}),o.mobile.matches&&v(),document.querySelectorAll("#primary-menu .menu-item-has-children").forEach(a=>{var e=a.childNodes[0].textContent;let t="il ",n="dal";if(-1!=["a","e","i","o","u"].indexOf(e.charAt(0))?(t="l'",n+="l'"):"a"==e.slice(-1)?(t="la ",n+="la "):n+=" ",a.querySelector("a").setAttribute("aria-expanded","false"),a.querySelector("a").insertAdjacentHTML("afterend",'<a class="svg open-submenu" href="#" aria-expanded="false" aria-haspopup="true"><span class="visually-hidden"> apri il sottomenu per '+t+e+"</span></a>"),o.mobile.matches&&a.querySelector(".sub-menu").insertAdjacentHTML("afterbegin",`<li class="menu-item">
            <a class="svg close-submenu" href="#">
              esci ${n}${e}
            </a>
          </li>`),a.addEventListener("mouseover",e=>{a.querySelectorAll(":scope > a").forEach(e=>{e.setAttribute("aria-expanded","true")})}),a.addEventListener("mouseout",e=>{a.querySelectorAll(":scope > a").forEach(e=>{e.setAttribute("aria-expanded","false")})}),l(a.querySelector(".open-submenu"),e=>{"touchstart"!=e.type&&e.preventDefault(),a.classList.add("active"),a.querySelectorAll(":scope > a").forEach(e=>{e.setAttribute("aria-expanded","true")})}),a.querySelectorAll(".close-submenu").forEach(e=>{l(e,e=>{"touchstart"!=e.type&&e.preventDefault(),a.classList.remove("active"),a.querySelectorAll(":scope > a").forEach(e=>{e.setAttribute("aria-expanded","false")}),1===parseInt(window.getComputedStyle(document.body,":before").getPropertyValue("padding"))&&a.querySelector("a").focus()})}),1===parseInt(window.getComputedStyle(document.body,"::before").getPropertyValue("padding"))){let t=!1;a.querySelector(".sub-menu").addEventListener("focusout",e=>{setTimeout(()=>{t=!1,((t,a)=>{var n=[];if(t.parentNode){let e=t.parentNode.firstChild;for(;e;)1!==e.nodeType||e===t||a&&!e.classList.contains(a)||n.push(e),e=e.nextSibling}return n})(e.target.parentElement).forEach(e=>{t=t||document.activeElement.parentElement===e}),t||(a.classList.remove("active"),a.querySelectorAll(":scope > a").forEach(e=>{e.setAttribute("aria-expanded","false")}))},10)})}}),document.body.addEventListener("keyup",e=>{"Escape"==e.key&&document.querySelectorAll(".menu-item-has-children").forEach(e=>{e.classList.remove("active"),e.querySelector(".open-submenu").setAttribute("aria-expanded","false")})}),document.getElementById("live-results")),E=document.getElementById("search-field"),b=document.createElement("textarea"),f="//"+window.location.hostname+"/wp-json/wp/v2/posts?per_page=20&search=";let A=0,I=-1;if(E&&h){h.setAttribute("role","listbox"),h.setAttribute("aria-live","polite"),E.setAttribute("aria-expanded","false"),E.setAttribute("aria-owns","live-results");const B=()=>Array.from(h.querySelectorAll('li[role="option"]')),k=a=>{var e=B();e.forEach((e,t)=>e.classList.toggle("active",t===a)),-1<(I=a)?(E.setAttribute("aria-activedescendant",e[a].id),e[a].scrollIntoView({block:"nearest"})):E.removeAttribute("aria-activedescendant")},S=async()=>{var e;if(E.value.length<3)h.innerHTML="",h.style.display="none",E.setAttribute("aria-expanded","false"),I=-1;else try{var t=document.getElementById("search-category"),a=f+encodeURIComponent(E.value)+(t?"&categories="+t.value:""),n=await fetch(a);if(!n.ok)throw new Error("Network error");var l=await n.json();e=l,h.innerHTML="",I=-1,e.length?e.forEach((e,t)=>{b.innerHTML=e.title.rendered;var a=document.createElement("li"),t=(a.setAttribute("role","option"),a.setAttribute("id","live-result-"+t),document.createElement("a"));t.href=e.link,t.textContent=b.value,a.appendChild(t),h.appendChild(a)}):((e=document.createElement("li")).textContent="Nessun risultato trovato",h.appendChild(e)),h.style.display="block",E.setAttribute("aria-expanded","true")}catch(e){console.error(e)}};E.addEventListener("input",()=>{clearTimeout(A),A=setTimeout(S,500)}),E.addEventListener("keydown",e=>{var t=B();if(t.length)switch(e.key){case"ArrowDown":e.preventDefault(),k((I+1)%t.length);break;case"ArrowUp":e.preventDefault(),k((I-1+t.length)%t.length);break;case"Enter":e.preventDefault(),-1<I?t[I].querySelector("a").click():E.form.submit();break;case"Escape":h.style.display="none",E.setAttribute("aria-expanded","false"),k(-1)}}),document.addEventListener("click",e=>{h.contains(e.target)||E.contains(e.target)||(h.style.display="none",E.setAttribute("aria-expanded","false"),k(-1))})}document.querySelectorAll("#main-wrapper a").forEach(e=>{var t;e.hostname!==location.hostname.replace("www.","")&&(e.target="_blank",e.querySelector(".visually-hidden")||e.insertAdjacentHTML("beforeend",'<span class="visually-hidden"> (apre una nuova finestra)</span>'),(t=(e.getAttribute("rel")||"").split(" ")).includes("noopener")||t.push("noopener"),e.setAttribute("rel",t.join(" ").trim()))});t=new Date,e=document.querySelector("#widget-back-in-time ul");e&&e.insertAdjacentHTML("beforeend",`<li><a href="/?day=${t.getDate()}&amp;monthnum=${t.getMonth()+1}&amp;year=0" rel="nofollow">Oggi nel passato</a></li>`)});